{"extension":{"programModules":{"EXT300MI":{"program":"EXT300MI","triggers":{},"transactions":{"AddCountResp":{"sourceUuid":"c52c6c30-4b43-4621-b015-cff2f9948efa","name":"AddCountResp","program":"EXT300MI","description":"add","active":true,"multi":false,"modified":1631814293838,"modifiedBy":"EDACILLO","outputFields":[],"inputFields":[{"name":"CONO","description":"company","length":3,"mandatory":false,"type":"N"},{"name":"WHLO","description":"warehouse","length":3,"mandatory":true,"type":"A"},{"name":"COTE","description":"count team","length":5,"mandatory":true,"type":"A"},{"name":"RESP","description":"responsible","length":10,"mandatory":true,"type":"A"}],"utilities":[]}},"batches":{}}},"utilities":{},"sources":{"c52c6c30-4b43-4621-b015-cff2f9948efa":{"uuid":"c52c6c30-4b43-4621-b015-cff2f9948efa","updated":1643264809988,"updatedBy":"EDACILLO","created":1631813929628,"createdBy":"EDACILLO","apiVersion":"0.15","beVersion":"16.0.0.20211117170031","codeHash":"6A3243152EF280E40ED294BCEC131225146E6F39A43E49CBEC187FAB5BF485A6","code":"LyoqDQogKiBSRUFETUUNCiAqDQogKiBOYW1lOiBBZGRDb3VudFJlc3AuZ3Jvb3Z5DQogKiBEYXRlICAgICAgICBDaGFuZ2VkIEJ5ICAgICAgICAgIAlEZXNjcmlwdGlvbg0KICogMjAyMTA5MTcgICAgRURBQ0lMTE8gICAgICAgICAJICA1MDgyIC0gUEkgQ291bnQgdGVhbXMNCiAqLw0KDQppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZQ0KaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lOw0KaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXI7DQoNCnB1YmxpYyBjbGFzcyBBZGRDb3VudFJlc3AgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaTsNCiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZTsNCiAgcHJpdmF0ZSBmaW5hbCBMb2dnZXJBUEkgbG9nZ2VyOw0KICBwcml2YXRlIGZpbmFsIFByb2dyYW1BUEkgcHJvZ3JhbTsNCg0KICBwdWJsaWMgQWRkQ291bnRSZXNwKE1JQVBJIG1pLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgTG9nZ2VyQVBJIGxvZ2dlciwgUHJvZ3JhbUFQSSBwcm9ncmFtKSB7DQogICAgdGhpcy5taSA9IG1pOw0KICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZTsNCiAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjsNCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtOw0KICB9DQoNCiAgcHJpdmF0ZSBpbnQgaUNPTk87DQogIHByaXZhdGUgU3RyaW5nIGlXSExPOw0KICBwcml2YXRlIFN0cmluZyBpQ09URTsNCiAgcHJpdmF0ZSBTdHJpbmcgaVJFU1A7DQoNCiAgcHVibGljIHZvaWQgbWFpbigpIHsNCiAgICBpQ09OTyA9IChJbnRlZ2VyKSBtaS5pbi5nZXQoIkNPTk8iKSA9PSBudWxsID8gKEludGVnZXIpcHJvZ3JhbS5nZXRMREFaRCgpLkNPTk8gOiAoSW50ZWdlcikgbWkuaW4uZ2V0KCJDT05PIik7DQogICAgaVdITE8gPSBtaS5pbi5nZXQoIldITE8iKSA9PSBudWxsID8gIiIgOiBtaS5pbi5nZXQoIldITE8iKS50b1N0cmluZygpLnRyaW0oKS50b1VwcGVyQ2FzZSgpOw0KICAgIGlDT1RFID0gbWkuaW4uZ2V0KCJDT1RFIikgPT0gbnVsbCA/ICIiIDogbWkuaW4uZ2V0KCJDT1RFIikudG9TdHJpbmcoKS50cmltKCkudG9VcHBlckNhc2UoKTsNCiAgICBpUkVTUCA9IG1pLmluLmdldCgiUkVTUCIpID09IG51bGwgPyAiIiA6IG1pLmluLmdldCgiUkVTUCIpLnRvU3RyaW5nKCkudHJpbSgpLnRvVXBwZXJDYXNlKCk7DQoNCiAgICBpZiAoIXZhbGlkYXRlSW5wdXQoKSkgew0KICAgICAgYWRkRVhUUENSKCk7DQogICAgfQ0KICB9DQoNCiAgLyoqDQogICAqIHZhbGlkYXRlSW5wdXQgLSBjaGVjayBNSSBpbnB1dA0KICAgKiBAcmV0dXJuDQogICAqLw0KICBkZWYgYm9vbGVhbiB2YWxpZGF0ZUlucHV0KCkgew0KICAgIGlmIChpV0hMTyA9PSAnJykgew0KICAgICAgbWkuZXJyb3IoIldhcmVob3VzZSBtdXN0IGJlIGVudGVyZWQiKTsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0gZWxzZSB7DQogICAgICBpZiAoIWNoZWNrV0hMTygpKSB7DQogICAgICAgIG1pLmVycm9yKCJXYXJlaG91c2UgJHtpV0hMT30gZG9lcyBub3QgZXhpc3QiKTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICB9DQogICAgfQ0KDQogICAgaWYgKGlDT1RFID09ICcnKSB7DQogICAgICBtaS5lcnJvcigiQ291bnQgdGVhbSBtdXN0IGJlIGVudGVyZWQiKTsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0gZWxzZSB7DQogICAgICBpZiAoIWNoZWNrQ09URSgpKSB7DQogICAgICAgIG1pLmVycm9yKCJDb3VudCB0ZWFtICR7aUNPVEV9IGRvZXMgbm90IGV4aXN0Iik7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgfQ0KICAgIH0NCg0KICAgIGlmIChpUkVTUCA9PSAnJykgew0KICAgICAgbWkuZXJyb3IoIlJlc3BvbnNpYmxlIG11c3QgYmUgZW50ZXJlZCIpOw0KICAgICAgcmV0dXJuIHRydWU7DQogICAgfSBlbHNlIHsNCiAgICAgIGlmICghY2hlY2tSRVNQKCkpIHsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICB9DQogICAgfQ0KICAgIHJldHVybiBmYWxzZTsNCiAgfQ0KDQogIC8qKg0KICAgKiBjaGVja1dITE8gLSBjaGVjayB3YXJlaG91c2UNCiAgICovDQogIGRlZiBib29sZWFuIGNoZWNrV0hMTygpIHsNCiAgICBib29sZWFuIGhhc1JlY29yZCA9IGZhbHNlOw0KICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIk1JVFdITCIpDQogICAgICAuaW5kZXgoIjAwIikNCiAgICAgIC5zZWxlY3Rpb24oIk1XV0hMTyIsICJNV1dITk0iKQ0KICAgICAgLmJ1aWxkKCk7DQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCk7DQogICAgY29udGFpbmVyLnNldCgiTVdDT05PIiwgaUNPTk8pOw0KICAgIGNvbnRhaW5lci5zZXQoIk1XV0hMTyIsIGlXSExPKTsNCiAgICBoYXNSZWNvcmQgPSBxdWVyeS5yZWFkKGNvbnRhaW5lcik7DQogICAgcmV0dXJuIGhhc1JlY29yZDsNCiAgfQ0KDQogIC8qKg0KICAgKiBjaGVja0NPVEUgLSBjaGVjayB0ZWFtDQogICAqLw0KICBkZWYgYm9vbGVhbiBjaGVja0NPVEUoKSB7DQogICAgYm9vbGVhbiBoYXNSZWNvcmQgPSBmYWxzZTsNCiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJFWFRQQ00iKQ0KICAgICAgLmluZGV4KCIwMCIpDQogICAgICAuc2VsZWN0aW9uKCJFWENPVEUiKQ0KICAgICAgLmJ1aWxkKCk7DQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCk7DQogICAgY29udGFpbmVyLnNldCgiRVhDT05PIiwgaUNPTk8pOw0KICAgIGNvbnRhaW5lci5zZXQoIkVYV0hMTyIsIGlXSExPKTsNCiAgICBjb250YWluZXIuc2V0KCJFWENPVEUiLCBpQ09URSk7DQogICAgaGFzUmVjb3JkID0gcXVlcnkucmVhZChjb250YWluZXIpOw0KICAgIHJldHVybiBoYXNSZWNvcmQ7DQogIH0NCg0KICAvKioNCiAgICogY2hlY2tSRVNQIC0gY2hlY2sgcmVzcA0KICAgKi8NCiAgZGVmIGJvb2xlYW4gY2hlY2tSRVNQKCkgew0KICAgIGJvb2xlYW4gaGFzUmVjb3JkID0gZmFsc2U7DQogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiQ01OVVNSIikNCiAgICAgIC5pbmRleCgiMDAiKQ0KICAgICAgLnNlbGVjdGlvbigiSlVVU0lEIiwgIkpVVVNUQSIpDQogICAgICAuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKTsNCiAgICBjb250YWluZXIuc2V0KCJKVUNPTk8iLCAwKTsNCiAgICBjb250YWluZXIuc2V0KCJKVURJVkkiLCAnJyk7DQogICAgY29udGFpbmVyLnNldCgiSlVVU0lEIiwgaVJFU1ApOw0KICAgIGhhc1JlY29yZCA9IHF1ZXJ5LnJlYWQoY29udGFpbmVyKTsNCiAgICBpZiAoaGFzUmVjb3JkKSB7DQogICAgICBTdHJpbmcgSlVVU1RBID0gY29udGFpbmVyLmdldCgiSlVVU1RBIikudG9TdHJpbmcoKS50cmltKCk7DQogICAgICBpZiAoSlVVU1RBICE9ICcyMCcpIHsNCiAgICAgICAgbWkuZXJyb3IoIlJlc3BvbnNpYmxlICR7aVJFU1B9IGlzIG5vdCBhY3RpdmUiKTsNCiAgICAgICAgaGFzUmVjb3JkID0gZmFsc2U7DQogICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgIG1pLmVycm9yKCJSZXNwb25zaWJsZSAke2lSRVNQfSBkb2VzIG5vdCBleGlzdCIpOw0KICAgIH0NCiAgICByZXR1cm4gaGFzUmVjb3JkOw0KICB9DQoNCiAgLyoqDQogICAqIGFkZEVYVFBDUiAtIGluc2VydCByZWNvcmQNCiAgICovDQogIGRlZiBhZGRFWFRQQ1IoKSB7DQogICAgLy9EZWZpbmUgZGF0ZSBhbmQgdGltZQ0KICAgIGludCBjdXJyZW50RGF0ZSA9IExvY2FsRGF0ZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJ5eXl5TU1kZCIpKS50b0ludGVnZXIoKTsNCiAgICBpbnQgY3VycmVudFRpbWUgPSBJbnRlZ2VyLnZhbHVlT2YoTG9jYWxEYXRlVGltZS5ub3coKS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJISG1tc3MiKSkpOw0KICAgIERCQWN0aW9uIGFjdGlvbkVYVFBDUiA9IGRhdGFiYXNlLnRhYmxlKCJFWFRQQ1IiKQ0KICAgICAgLmluZGV4KCIwMCIpDQogICAgICAuYnVpbGQoKTsNCg0KICAgIERCQ29udGFpbmVyIEVYVFBDUiA9IGFjdGlvbkVYVFBDUi5nZXRDb250YWluZXIoKTsNCiAgICBFWFRQQ1Iuc2V0KCJFWENPTk8iLCBpQ09OTyk7DQogICAgRVhUUENSLnNldCgiRVhXSExPIiwgaVdITE8pOw0KICAgIEVYVFBDUi5zZXQoIkVYQ09URSIsIGlDT1RFKTsNCiAgICBFWFRQQ1Iuc2V0KCJFWFJFU1AiLCBpUkVTUCk7DQogICAgRVhUUENSLnNldCgiRVhSR0RUIiwgY3VycmVudERhdGUpOw0KICAgIEVYVFBDUi5zZXQoIkVYUkdUTSIsIGN1cnJlbnRUaW1lKTsNCiAgICBFWFRQQ1Iuc2V0KCJFWExNRFQiLCBjdXJyZW50RGF0ZSk7DQogICAgRVhUUENSLnNldCgiRVhDSElEIiwgcHJvZ3JhbS5nZXRVc2VyKCkpOw0KICAgIEVYVFBDUi5zZXQoIkVYQ0hOTyIsIDEpOw0KICAgIGlmICghYWN0aW9uRVhUUENSLmluc2VydChFWFRQQ1IpKXsNCiAgICAgIG1pLmVycm9yKCJSZWNvcmQgYWxyZWFkeSBleGlzdHMiKTsNCiAgICB9DQogIH0NCn0NCg=="}}},"signature":"ATAuAhUAiqGta/PbqQ1AfsX09Y5sKJQT5Q8CFQCA4J3qH4vlH8RWvvNfo/O2PoTsMg==","signedBy":"EYOUSEFI","signed":1643328524579,"message":"Signed by Erfan Yousefi"}