{"utilities":{},"programModules":{"EXT300MI":{"program":"EXT300MI","triggers":{},"transactions":{"AddPICounter":{"sourceUuid":"6a9e1123-8da5-41c2-8e70-9dbf87b9fa90","name":"AddPICounter","program":"EXT300MI","description":"add","active":true,"multi":false,"modified":1633336583594,"modifiedBy":"EDACILLO","outputFields":[],"inputFields":[{"name":"CONO","description":"company","length":3,"mandatory":false,"type":"N"},{"name":"STNB","description":"physical inventory number","length":10,"mandatory":true,"type":"N"},{"name":"WHLO","description":"warehouse","length":3,"mandatory":false,"type":"A"},{"name":"COTE","description":"count team","length":5,"mandatory":false,"type":"A"},{"name":"RESP","description":"responsible","length":10,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{}}},"sources":{"6a9e1123-8da5-41c2-8e70-9dbf87b9fa90":{"uuid":"6a9e1123-8da5-41c2-8e70-9dbf87b9fa90","updated":1635423176654,"updatedBy":"EDACILLO","created":1631255368298,"createdBy":"EDACILLO","apiVersion":"0.15","beVersion":"16.0.0.20210819160023","codeHash":"9D28AD2B6BD7AB82D79404E1A36FD21927476DBCE1A9C69BC0AE313B723F8D9C","code":"LyoqDQogKiBSRUFETUUNCiAqDQogKiBOYW1lOiBBZGRQSUNvdW50ZXIuZ3Jvb3Z5DQogKiBEYXRlICAgICAgICBDaGFuZ2VkIEJ5ICAgICAgICAgIERlc2NyaXB0aW9uDQogKiAyMDIxMDkxMCAgICBFREFDSUxMTyAgICAgICAgICAgIDUwODIgLSBQSSBDb3VudCB0ZWFtcw0KICoNCiAqLw0KDQppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZTsNCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZTsNCmltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lRm9ybWF0dGVyOw0KDQpwdWJsaWMgY2xhc3MgQWRkUElDb3VudGVyIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7DQogIHByaXZhdGUgZmluYWwgTUlBUEkgbWk7DQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2U7DQogIHByaXZhdGUgZmluYWwgTG9nZ2VyQVBJIGxvZ2dlcjsNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07DQoNCiAgcHJpdmF0ZSBpbnQgaUNPTk87DQogIHByaXZhdGUgU3RyaW5nIGlXSExPOw0KICBwcml2YXRlIFN0cmluZyBpQ09URTsNCiAgcHJpdmF0ZSBTdHJpbmcgaVJFU1A7DQogIHByaXZhdGUgbG9uZyBpU1ROQjsNCg0KICBwdWJsaWMgQWRkUElDb3VudGVyKE1JQVBJIG1pLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgTG9nZ2VyQVBJIGxvZ2dlciwgUHJvZ3JhbUFQSSBwcm9ncmFtKSB7DQogICAgdGhpcy5taSA9IG1pOw0KICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZTsNCiAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjsNCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtOw0KICB9DQoNCiAgcHVibGljIHZvaWQgbWFpbigpIHsNCiAgICByZXRyaWV2ZUlucHV0KCk7DQoNCiAgICBpZiAoIXZhbGlkYXRlSW5wdXQoKSkgew0KICAgICAgYWRkRVhUUENUKCk7DQogICAgfQ0KICB9DQoNCiAgLyoqDQogICAqIHJldHJpZXZlSW5wdXQgLSByZXRyaWV2ZSBpbnB1dA0KICAgKiBAcmV0dXJuDQogICAqLw0KICBkZWYgcmV0cmlldmVJbnB1dCgpIHsNCiAgICBpQ09OTyA9IChJbnRlZ2VyKSBtaS5pbi5nZXQoIkNPTk8iKSA9PSBudWxsID8gKEludGVnZXIpIHByb2dyYW0uZ2V0TERBWkQoKS5DT05PIDogKEludGVnZXIpIG1pLmluLmdldCgiQ09OTyIpOw0KICAgIGlXSExPID0gbWkuaW4uZ2V0KCJXSExPIikgPT0gbnVsbCA/ICIiIDogbWkuaW4uZ2V0KCJXSExPIikudG9TdHJpbmcoKS50cmltKCkudG9VcHBlckNhc2UoKTsNCiAgICBpQ09URSA9IG1pLmluLmdldCgiQ09URSIpID09IG51bGwgPyAiIiA6IG1pLmluLmdldCgiQ09URSIpLnRvU3RyaW5nKCkudHJpbSgpLnRvVXBwZXJDYXNlKCk7DQogICAgaVJFU1AgPSBtaS5pbi5nZXQoIlJFU1AiKSA9PSBudWxsID8gIiIgOiBtaS5pbi5nZXQoIlJFU1AiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICBpU1ROQiA9IChMb25nKSBtaS5pbi5nZXQoIlNUTkIiKSA9PSBudWxsID8gMCA6IChMb25nKSBtaS5pbi5nZXQoIlNUTkIiKTsNCiAgfQ0KDQogIC8qKg0KICAgKiB2YWxpZGF0ZUlucHV0IC0gY2hlY2sgTUkgaW5wdXQNCiAgICogQHJldHVybg0KICAgKi8NCiAgZGVmIGJvb2xlYW4gdmFsaWRhdGVJbnB1dCgpIHsNCiAgICBpZiAoaVdITE8gIT0gIiIpIHsNCiAgICAgIGlmICghY2hlY2tXSExPKCkpIHsNCiAgICAgICAgbWkuZXJyb3IoIldhcmVob3VzZSAke2lXSExPfSBpcyBpbnZhbGlkIik7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgfQ0KICAgIH0NCiAgICBpZiAoaVNUTkIgIT0gMCAmJiAhY2hlY2tTVE5CKCkpIHsNCiAgICAgIG1pLmVycm9yKCJQaHlzaWNhbCBpbnZlbnRvcnkgbnVtYmVyICR7aVNUTkJ9IGlzIGludmFsaWQiKTsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgICBpZiAoaUNPVEUgIT0gJycpIHsNCiAgICAgIGlmICghY2hlY2tDT1RFKCkpIHsNCiAgICAgICAgbWkuZXJyb3IoIkNvdW50IHRlYW0gJHtpQ09URX0gaXMgaW52YWxpZCIpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgIH0NCiAgICB9DQogICAgaWYgKGlSRVNQICE9ICcnKSB7DQogICAgICBpZiAoIWNoZWNrUkVTUCgpKSB7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgfQ0KICAgIH0NCiAgICBpZiAoaUNPVEUgIT0gJycgJiYgaVJFU1AgIT0gJycpIHsNCiAgICAgIGlmICghY2hlY2tFWFRQQ1IoKSkgew0KICAgICAgICBtaS5lcnJvcigiQ291bnQgdGVhbSBhbmQgcmVzcG9uc2libGUgY29tYmluYXRpb24gaXMgaW52YWxpZCIpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgIH0NCiAgICB9DQogICAgcmV0dXJuIGZhbHNlOw0KICB9DQoNCiAgLyoqDQogICAqIGNoZWNrV0hMTyAtIGNoZWNrIHdhcmVob3VzZQ0KICAgKi8NCiAgZGVmIGJvb2xlYW4gY2hlY2tXSExPKCkgew0KICAgIGJvb2xlYW4gaGFzUmVjb3JkID0gZmFsc2U7DQogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiTUlUV0hMIikNCiAgICAgIC5pbmRleCgiMDAiKQ0KICAgICAgLnNlbGVjdGlvbigiTVdXSExPIiwgIk1XV0hOTSIpDQogICAgICAuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKTsNCiAgICBjb250YWluZXIuc2V0KCJNV0NPTk8iLCBpQ09OTyk7DQogICAgY29udGFpbmVyLnNldCgiTVdXSExPIiwgaVdITE8pOw0KICAgIGhhc1JlY29yZCA9IHF1ZXJ5LnJlYWQoY29udGFpbmVyKTsNCiAgICByZXR1cm4gaGFzUmVjb3JkOw0KICB9DQoNCiAgLyoqDQogICAqIGNoZWNrQ09URSAtIGNoZWNrIHRlYW0NCiAgICovDQogIGRlZiBib29sZWFuIGNoZWNrQ09URSgpIHsNCiAgICBib29sZWFuIGhhc1JlY29yZCA9IGZhbHNlOw0KICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkVYVFBDTSIpDQogICAgICAuaW5kZXgoIjAwIikNCiAgICAgIC5zZWxlY3Rpb24oIkVYQ09URSIpDQogICAgICAuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKTsNCiAgICBjb250YWluZXIuc2V0KCJFWENPTk8iLCBpQ09OTyk7DQogICAgY29udGFpbmVyLnNldCgiRVhXSExPIiwgaVdITE8pOw0KICAgIGNvbnRhaW5lci5zZXQoIkVYQ09URSIsIGlDT1RFKTsNCiAgICBoYXNSZWNvcmQgPSBxdWVyeS5yZWFkKGNvbnRhaW5lcik7DQogICAgcmV0dXJuIGhhc1JlY29yZDsNCiAgfQ0KDQogIC8qKg0KICAgKiBjaGVja1JFU1AgLSBjaGVjayByZXNwDQogICAqLw0KICBkZWYgYm9vbGVhbiBjaGVja1JFU1AoKSB7DQogICAgYm9vbGVhbiBoYXNSZWNvcmQgPSBmYWxzZTsNCiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJDTU5VU1IiKQ0KICAgICAgLmluZGV4KCIwMCIpDQogICAgICAuc2VsZWN0aW9uKCJKVVVTSUQiLCAiSlVVU1RBIikNCiAgICAgIC5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpOw0KICAgIGNvbnRhaW5lci5zZXQoIkpVQ09OTyIsIDApOw0KICAgIGNvbnRhaW5lci5zZXQoIkpVRElWSSIsICcnKTsNCiAgICBjb250YWluZXIuc2V0KCJKVVVTSUQiLCBpUkVTUCk7DQogICAgaGFzUmVjb3JkID0gcXVlcnkucmVhZChjb250YWluZXIpOw0KICAgIGlmIChoYXNSZWNvcmQpIHsNCiAgICAgIFN0cmluZyBKVVVTVEEgPSBjb250YWluZXIuZ2V0KCJKVVVTVEEiKS50b1N0cmluZygpLnRyaW0oKTsNCiAgICAgIGlmIChKVVVTVEEgIT0gJzIwJykgew0KICAgICAgICBtaS5lcnJvcigiUmVzcG9uc2libGUgJHtpUkVTUH0gaXMgbm90IGFjdGl2ZSIpOw0KICAgICAgICBoYXNSZWNvcmQgPSBmYWxzZTsNCiAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgbWkuZXJyb3IoIlVzZXIgJHtpUkVTUH0gZG9lcyBub3QgZXhpc3QiKTsNCiAgICB9DQogICAgcmV0dXJuIGhhc1JlY29yZDsNCiAgfQ0KDQogIC8qKg0KICAgKiBjaGVja0VYVFBDUiAtIGNoZWNrIEVYVFBDUg0KICAgKiBAcmV0dXJuDQogICAqLw0KICBkZWYgYm9vbGVhbiBjaGVja0VYVFBDUigpIHsNCiAgICBib29sZWFuIGhhc1JlY29yZCA9IGZhbHNlOw0KICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkVYVFBDUiIpDQogICAgICAuaW5kZXgoIjAwIikNCiAgICAgIC5zZWxlY3Rpb24oIkVYUkVTUCIpDQogICAgICAuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKTsNCiAgICBjb250YWluZXIuc2V0KCJFWENPTk8iLCBpQ09OTyk7DQogICAgY29udGFpbmVyLnNldCgiRVhXSExPIiwgaVdITE8pOw0KICAgIGNvbnRhaW5lci5zZXQoIkVYQ09URSIsIGlDT1RFKTsNCiAgICBjb250YWluZXIuc2V0KCJFWFJFU1AiLCBpUkVTUCk7DQogICAgaGFzUmVjb3JkID0gcXVlcnkucmVhZChjb250YWluZXIpOw0KICAgIHJldHVybiBoYXNSZWNvcmQ7DQogIH0NCg0KICAvKioNCiAgICogY2hlY2tTVE5CIC0gY2hlY2sgcGh5c2ljYWwgaW52ZW50b3J5IG51bWJlcg0KICAgKiBAcmV0dXJuDQogICAqLw0KICBkZWYgYm9vbGVhbiBjaGVja1NUTkIoKSB7DQogICAgYm9vbGVhbiBoYXNSZWNvcmQgPSBmYWxzZTsNCiAgICBkZWYgcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiTUlUVEtIIikNCiAgICAgIC5pbmRleCgiMDAiKQ0KICAgICAgLnNlbGVjdGlvbigiU0hTVE5CIiwgIlNIU1RNRCIsICJTSFNUQVQiLCAiU0hXSExPIik7DQoNCiAgICBkZWYgYWN0aW9uID0gcXVlcnkuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBhY3Rpb24uZ2V0Q29udGFpbmVyKCk7DQogICAgY29udGFpbmVyLnNldCgiU0hDT05PIiwgaUNPTk8pOw0KICAgIGNvbnRhaW5lci5zZXQoIlNIU1ROQiIsIGlTVE5CKTsNCiAgICBoYXNSZWNvcmQgPSBhY3Rpb24ucmVhZChjb250YWluZXIpOw0KICAgIGlmIChoYXNSZWNvcmQpIHsNCiAgICAgIGlmIChpV0hMTyA9PSAiIikgew0KICAgICAgICBpV0hMTyA9IGNvbnRhaW5lci5nZXQoIlNIV0hMTyIpLnRvU3RyaW5nKCkudHJpbSgpOw0KICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gaGFzUmVjb3JkOw0KICB9DQoNCiAgLyoqDQogICAqIGFkZEVYVFBDVCAtIGluc2VydCByZWNvcmQNCiAgICogQHJldHVybg0KICAgKi8NCiAgZGVmIGFkZEVYVFBDVCgpIHsNCiAgICAvL0RlZmluZSBkYXRlIGFuZCB0aW1lDQogICAgaW50IGN1cnJlbnREYXRlID0gTG9jYWxEYXRlLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpLnRvSW50ZWdlcigpOw0KICAgIGludCBjdXJyZW50VGltZSA9IEludGVnZXIudmFsdWVPZihMb2NhbERhdGVUaW1lLm5vdygpLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oIkhIbW1zcyIpKSk7DQoNCiAgICBEQkFjdGlvbiBBY3Rpb25FWFRQQ1QgPSBkYXRhYmFzZS50YWJsZSgiRVhUUENUIikNCiAgICAgIC5pbmRleCgiMDAiKQ0KICAgICAgLmJ1aWxkKCk7DQoNCiAgICBEQkNvbnRhaW5lciBFWFRQQ1QgPSBBY3Rpb25FWFRQQ1QuZ2V0Q29udGFpbmVyKCk7DQogICAgRVhUUENULnNldCgiRVhDT05PIiwgaUNPTk8pOw0KICAgIEVYVFBDVC5zZXQoIkVYU1ROQiIsIGlTVE5CKTsNCiAgICBFWFRQQ1Quc2V0KCJFWFdITE8iLCBpV0hMTyk7DQogICAgRVhUUENULnNldCgiRVhDT1RFIiwgaUNPVEUpOw0KICAgIEVYVFBDVC5zZXQoIkVYUkVTUCIsIGlSRVNQKTsNCiAgICBFWFRQQ1Quc2V0KCJFWFJHRFQiLCBjdXJyZW50RGF0ZSk7DQogICAgRVhUUENULnNldCgiRVhSR1RNIiwgY3VycmVudFRpbWUpOw0KICAgIEVYVFBDVC5zZXQoIkVYTE1EVCIsIGN1cnJlbnREYXRlKTsNCiAgICBFWFRQQ1Quc2V0KCJFWENISUQiLCBwcm9ncmFtLmdldFVzZXIoKSk7DQogICAgRVhUUENULnNldCgiRVhDSE5PIiwgMSk7DQogICAgaWYgKCFBY3Rpb25FWFRQQ1QuaW5zZXJ0KEVYVFBDVCkpew0KICAgICAgbWkuZXJyb3IoIlJlY29yZCBhbHJlYWR5IGV4aXN0cyIpOw0KICAgIH0NCiAgfQ0KfQ0K"}}}